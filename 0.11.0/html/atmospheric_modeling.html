

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3. Modeling the Atmosphere &mdash; pwv_kpno 0.11.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4. Modeling a Black Body" href="blackbody_modeling.html" />
    <link rel="prev" title="2. Accessing PWV Data" href="accessing_data.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> pwv_kpno
          

          
          </a>

          
            
            
              <div class="version">
                0.11.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">1. Installation and Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="accessing_data.html">2. Accessing PWV Data</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. Modeling the Atmosphere</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#transmission-for-datetime">3.1. Transmission for Datetime</a></li>
<li class="toctree-l2"><a class="reference internal" href="#transmission-for-pwv">3.2. Transmission for PWV</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="blackbody_modeling.html">4. Modeling a Black Body</a></li>
<li class="toctree-l1"><a class="reference internal" href="correcting_observations.html">5. Correcting Observations</a></li>
<li class="toctree-l1"><a class="reference internal" href="for_developers.html">6. For Developers</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pwv_kpno</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>3. Modeling the Atmosphere</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/atmospheric_modeling.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="modeling-the-atmosphere">
<h1>3. Modeling the Atmosphere<a class="headerlink" href="#modeling-the-atmosphere" title="Permalink to this headline">¶</a></h1>
<p><strong>pwv_kpno</strong> provides models for the atmospheric transmission due to H<sub>2</sub>O at Kitt Peak National Observatory. These models can be retrieved
by providing either a datetime and airmass value or a PWV column density along
line of sight. Atmospheric modeling is available as part of the
<code class="docutils literal notranslate"><span class="pre">pwv_kpno.pwv_atm</span></code> module.</p>
<div class="section" id="transmission-for-datetime">
<h2>3.1. Transmission for Datetime<a class="headerlink" href="#transmission-for-datetime" title="Permalink to this headline">¶</a></h2>
<p>Modeling the atmospheric transmission function for a given datetime requires
SuomiNet data to be available on the local machine. See the
<a class="reference internal" href="accessing_data.html#updating-data"><span class="std std-ref">Updating Data</span></a> section for more details.</p>
<p>To find the atmospheric transmission for a given datetime, use the
<code class="docutils literal notranslate"><span class="pre">trans_for_date</span></code> method.</p>
<dl class="function">
<dt id="pwv_kpno.pwv_atm.trans_for_date">
<code class="descclassname">pwv_kpno.pwv_atm.</code><code class="descname">trans_for_date</code><span class="sig-paren">(</span><em>date</em>, <em>airmass</em>, <em>test_model=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pwv_kpno/_transmission.html#trans_for_date"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pwv_kpno.pwv_atm.trans_for_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a model for the atmospheric transmission function due to PWV</p>
<p>For a given datetime and airmass, return a model for the atmospheric
transmission function due to precipitable water vapor (PWV) at Kitt Peak.
The modeled transmission is returned as an astropy table with the columns
‘wavelength’ and ‘transmission’. Wavelength values range from 7000 to
10,000 angstroms.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>date</strong> (<em>datetime.datetime</em>) – The datetime of the desired model</li>
<li><strong>airmass</strong> (<em>float</em>) – The airmass of the desired model</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The modeled transmission function as an astropy table</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="section" id="examples">
<h3>3.1.1. Examples:<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<p>For an airmass of 1.2, the transmission function at 2013-12-15 05:35:00 is
given by:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="k">import</span> <span class="n">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pwv_kpno</span> <span class="k">import</span> <span class="n">pwv_atm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pytz</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obsv_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">2013</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                     <span class="n">month</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                     <span class="n">day</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                     <span class="n">hour</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                     <span class="n">minute</span><span class="o">=</span><span class="mi">35</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                     <span class="n">tzinfo</span><span class="o">=</span><span class="n">pytz</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pwv_atm</span><span class="o">.</span><span class="n">trans_for_date</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="n">obsv_date</span><span class="p">,</span> <span class="n">airmass</span><span class="o">=</span><span class="mf">1.2</span><span class="p">)</span>

<span class="go">    wavelength   transmission</span>
<span class="go">     Angstrom</span>
<span class="go">  ------------- --------------</span>
<span class="go">         7000.0 0.994835616916</span>
<span class="go">  7001.00033344 0.990633715253</span>
<span class="go">  7002.00066689 0.999799748012</span>
<span class="go">            ...            ...</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="transmission-for-pwv">
<h2>3.2. Transmission for PWV<a class="headerlink" href="#transmission-for-pwv" title="Permalink to this headline">¶</a></h2>
<p>Instead of relying on SuomiNet measurements, users can also retrieve the
modeled transmission function by directly specifying a PWV column density. This
can be done using the <code class="docutils literal notranslate"><span class="pre">trans_for_pwv</span></code> method.</p>
<dl class="function">
<dt id="pwv_kpno.pwv_atm.trans_for_pwv">
<code class="descclassname">pwv_kpno.pwv_atm.</code><code class="descname">trans_for_pwv</code><span class="sig-paren">(</span><em>pwv</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pwv_kpno/_transmission.html#trans_for_pwv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pwv_kpno.pwv_atm.trans_for_pwv" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the atmospheric transmission due a given PWV concentration in mm</p>
<p>For a given precipitable water vapor concentration, return the modeled
atmospheric transmission function. The modeled transmission is returned as
an astropy table with the columns ‘wavelength’ and ‘transmission’.
Wavelength values range from 7000 to 10,000 angstroms.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pwv</strong> (<em>int</em><em>, </em><em>float</em>) – A PWV concentration in mm</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The modeled transmission function as an astropy table.</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="section" id="id1">
<h3>3.2.1. Examples:<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>For a 13.5 mm PWV column density along line of sight, the transmission function
is given by:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pwv_kpno</span> <span class="k">import</span> <span class="n">pwv_atm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pwv_atm</span><span class="o">.</span><span class="n">trans_for_pwv</span><span class="p">(</span><span class="mf">13.5</span><span class="p">)</span>

<span class="go">    wavelength   transmission</span>
<span class="go">     Angstrom</span>
<span class="go">  ------------- --------------</span>
<span class="go">         7000.0 0.927538932462</span>
<span class="go">  7001.00033344 0.872185668270</span>
<span class="go">  7002.00066689 0.997095800639</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="blackbody_modeling.html" class="btn btn-neutral float-right" title="4. Modeling a Black Body" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="accessing_data.html" class="btn btn-neutral" title="2. Accessing PWV Data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Daniel J. Perrefort.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.11.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>